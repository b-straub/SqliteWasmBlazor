@inject IWindowManager WindowManager
@implements IDisposable

@ChildContent

<WindowTaskbar />

@code {
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    protected override void OnInitialized()
    {
        WindowManager.OnWindowsChanged += OnWindowsChanged;
    }

    private void OnWindowsChanged()
    {
        InvokeAsync(StateHasChanged);
    }

    public void Dispose()
    {
        WindowManager.OnWindowsChanged -= OnWindowsChanged;
    }
}
