// opfs-logger.ts
var OpfsLogger = class {
  constructor() {
    this.logLevel = 2 /* Warning */;
  }
  setLogLevel(level) {
    this.logLevel = level;
  }
  debug(module, ...args) {
    if (this.logLevel >= 4 /* Debug */) {
      console.log(`[${module}]`, ...args);
    }
  }
  info(module, ...args) {
    if (this.logLevel >= 3 /* Info */) {
      console.log(`[${module}] \u2713`, ...args);
    }
  }
  warn(module, ...args) {
    if (this.logLevel >= 2 /* Warning */) {
      console.warn(`[${module}] \u26A0`, ...args);
    }
  }
  error(module, ...args) {
    if (this.logLevel >= 1 /* Error */) {
      console.error(`[${module}] \u274C`, ...args);
    }
  }
};
var logger = new OpfsLogger();
window.__opfsLogger = logger;

// opfs-initializer.ts
var worker = null;
var messageId = 0;
var pendingMessages = /* @__PURE__ */ new Map();
var isInitialized = false;
function sendMessage(type, args) {
  if (!worker) {
    return Promise.reject(new Error("Worker not initialized"));
  }
  return new Promise((resolve, reject) => {
    const id = messageId++;
    pendingMessages.set(id, { resolve, reject });
    const message = { id, type, args };
    worker.postMessage(message);
  });
}
async function initialize() {
  if (isInitialized) {
    return {
      success: true,
      message: "Already initialized"
    };
  }
  try {
    logger.debug("OPFS Initializer", "Creating worker...");
    worker = new Worker(
      "/_content/SQLiteNET.Opfs/opfs-worker.js",
      { type: "module" }
    );
    worker.onmessage = (event) => {
      const { id, success, result, error } = event.data;
      const pending = pendingMessages.get(id);
      if (pending) {
        pendingMessages.delete(id);
        if (success) {
          pending.resolve(result);
        } else {
          pending.reject(new Error(error || "Unknown error"));
        }
      }
    };
    window.addEventListener("beforeunload", () => {
      if (worker) {
        try {
          worker.postMessage({ id: -1, type: "cleanup" });
        } catch (e) {
          logger.warn("OPFS Initializer", "Could not send cleanup message:", e);
        }
      }
    });
    await new Promise((resolve, reject) => {
      const timeout = setTimeout(() => reject(new Error("Worker initialization timeout")), 1e4);
      worker.addEventListener("message", function onReady(event) {
        if (event.data.type === "ready") {
          clearTimeout(timeout);
          worker.removeEventListener("message", onReady);
          resolve();
        } else if (event.data.type === "error") {
          clearTimeout(timeout);
          worker.removeEventListener("message", onReady);
          reject(new Error(event.data.error));
        }
      });
    });
    logger.debug("OPFS Initializer", "Worker ready, getting capacity...");
    const capacityResult = await sendMessage("getCapacity");
    const fileListResult = await sendMessage("getFileList");
    isInitialized = true;
    logger.debug("OPFS Initializer", "Initialization complete");
    window.__opfsSendMessage = sendMessage;
    window.__opfsIsInitialized = () => isInitialized;
    return {
      success: true,
      message: "OPFS Worker initialized successfully",
      capacity: capacityResult.capacity,
      fileCount: fileListResult.files.length
    };
  } catch (error) {
    logger.error("OPFS Initializer", "Failed to initialize:", error);
    return {
      success: false,
      message: error instanceof Error ? error.message : "Unknown error"
    };
  }
}
function isReady() {
  return isInitialized;
}
async function getFileList() {
  const result = await sendMessage("getFileList");
  return result.files || [];
}
async function exportDatabase(filename) {
  const result = await sendMessage("readFile", { filename });
  return result.data;
}
async function importDatabase(filename, dataArray) {
  const result = await sendMessage("writeFile", { filename, data: dataArray });
  return result.bytesWritten;
}
async function deleteDatabase(filename) {
  const result = await sendMessage("deleteFile", { filename });
  return result.success;
}
async function getCapacity() {
  const result = await sendMessage("getCapacity");
  return result.capacity;
}
async function addCapacity(count) {
  const result = await sendMessage("addCapacity", { count });
  return result.newCapacity;
}
async function persist(filename) {
  logger.debug("OPFS Persist", "Starting persist for:", filename);
  if (!window.Blazor?.runtime?.Module?.FS) {
    throw new Error("Emscripten FS not available. Ensure WasmBuildNative=true is enabled.");
  }
  const fs = window.Blazor.runtime.Module.FS;
  const filePath = `/${filename}`;
  const pathInfo = fs.analyzePath(filePath);
  logger.debug("OPFS Persist", "File exists in MEMFS:", pathInfo.exists);
  if (!pathInfo.exists) {
    throw new Error(`Database file ${filename} not found in MEMFS`);
  }
  const data = fs.readFile(filePath);
  logger.debug("OPFS Persist", "Read from MEMFS:", data.length, "bytes");
  await sendMessage("writeFile", {
    filename,
    data: Array.from(data)
  });
  logger.info("OPFS Persist", "Written to OPFS:", filename);
}
async function persistDirtyPages(filename, pages) {
  logger.debug("OPFS Persist Dirty", "Starting incremental persist for:", filename, "-", pages.length, "pages");
  const result = await sendMessage("persistDirtyPages", {
    filename,
    pages
  });
  logger.info("OPFS Persist Dirty", "Written", result.pagesWritten, "pages (", result.bytesWritten, "bytes)");
}
async function load(filename) {
  logger.debug("OPFS Load", "Starting load for:", filename);
  if (!window.Blazor?.runtime?.Module?.FS) {
    throw new Error("Emscripten FS not available. Ensure WasmBuildNative=true is enabled.");
  }
  const fs = window.Blazor.runtime.Module.FS;
  const filePath = `/${filename}`;
  try {
    const result = await sendMessage("readFile", { filename });
    logger.debug("OPFS Load", "Read from OPFS:", result.data?.length || 0, "bytes");
    if (result.data && result.data.length > 0) {
      fs.writeFile(filePath, new Uint8Array(result.data));
      logger.info("OPFS Load", "Written to MEMFS:", filename);
    }
  } catch (error) {
    logger.info("OPFS Load", `Database ${filename} not found in OPFS (will be created on first use)`);
  }
}
async function cleanup() {
  if (worker) {
    logger.debug("OPFS Initializer", "Requesting cleanup...");
    try {
      await sendMessage("cleanup");
      logger.info("OPFS Initializer", "Cleanup complete");
    } catch (e) {
      logger.warn("OPFS Initializer", "Cleanup failed:", e);
    }
  }
}
async function sendMessageToWorker(type, args) {
  if (!isInitialized) {
    await initialize();
  }
  return sendMessage(type, args);
}
logger.debug("OPFS Initializer", "Module loaded");
export {
  addCapacity,
  cleanup,
  deleteDatabase,
  exportDatabase,
  getCapacity,
  getFileList,
  importDatabase,
  initialize,
  isReady,
  load,
  persist,
  persistDirtyPages,
  sendMessageToWorker
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vVHlwZXNjcmlwdC9vcGZzLWxvZ2dlci50cyIsICIuLi9UeXBlc2NyaXB0L29wZnMtaW5pdGlhbGl6ZXIudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIG9wZnMtbG9nZ2VyLnRzXG4vLyBDZW50cmFsaXplZCBsb2dnaW5nIGZvciBPUEZTIFR5cGVTY3JpcHQgbW9kdWxlc1xuLy8gTWF0Y2hlcyBDIyBPcGZzTG9nTGV2ZWwgZW51bVxuXG5leHBvcnQgZW51bSBPcGZzTG9nTGV2ZWwge1xuICAgIE5vbmUgPSAwLFxuICAgIEVycm9yID0gMSxcbiAgICBXYXJuaW5nID0gMixcbiAgICBJbmZvID0gMyxcbiAgICBEZWJ1ZyA9IDRcbn1cblxuY2xhc3MgT3Bmc0xvZ2dlciB7XG4gICAgcHJpdmF0ZSBsb2dMZXZlbDogT3Bmc0xvZ0xldmVsID0gT3Bmc0xvZ0xldmVsLldhcm5pbmc7XG5cbiAgICBzZXRMb2dMZXZlbChsZXZlbDogT3Bmc0xvZ0xldmVsKTogdm9pZCB7XG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPSBsZXZlbDtcbiAgICB9XG5cbiAgICBkZWJ1Zyhtb2R1bGU6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubG9nTGV2ZWwgPj0gT3Bmc0xvZ0xldmVsLkRlYnVnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7bW9kdWxlfV1gLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluZm8obW9kdWxlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmxvZ0xldmVsID49IE9wZnNMb2dMZXZlbC5JbmZvKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgWyR7bW9kdWxlfV0gXHUyNzEzYCwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3YXJuKG1vZHVsZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5sb2dMZXZlbCA+PSBPcGZzTG9nTGV2ZWwuV2FybmluZykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbJHttb2R1bGV9XSBcdTI2QTBgLCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVycm9yKG1vZHVsZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5sb2dMZXZlbCA+PSBPcGZzTG9nTGV2ZWwuRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFske21vZHVsZX1dIFx1Mjc0Q2AsIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBHbG9iYWwgbG9nZ2VyIGluc3RhbmNlXG5leHBvcnQgY29uc3QgbG9nZ2VyID0gbmV3IE9wZnNMb2dnZXIoKTtcblxuLy8gRXhwb3NlIGdsb2JhbGx5IGZvciBDIyB0byBjb25maWd1cmVcbih3aW5kb3cgYXMgYW55KS5fX29wZnNMb2dnZXIgPSBsb2dnZXI7XG4iLCAiLy8gb3Bmcy1pbml0aWFsaXplci50c1xuLy8gTWFpbiB0aHJlYWQgd3JhcHBlciBmb3IgT1BGUyBXb3JrZXJcbi8vIEhhbmRsZXMgY29tbXVuaWNhdGlvbiB3aXRoIG9wZnMtd29ya2VyLmpzIGZvciBmaWxlIEkvT1xuXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL29wZnMtbG9nZ2VyJztcblxuaW50ZXJmYWNlIEluaXRpYWxpemVSZXN1bHQge1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGNhcGFjaXR5PzogbnVtYmVyO1xuICAgIGZpbGVDb3VudD86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFdvcmtlck1lc3NhZ2Uge1xuICAgIGlkOiBudW1iZXI7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGFyZ3M/OiBhbnk7XG59XG5cbmludGVyZmFjZSBXb3JrZXJSZXNwb25zZSB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBzdWNjZXNzOiBib29sZWFuO1xuICAgIHJlc3VsdD86IGFueTtcbiAgICBlcnJvcj86IHN0cmluZztcbn1cblxubGV0IHdvcmtlcjogV29ya2VyIHwgbnVsbCA9IG51bGw7XG5sZXQgbWVzc2FnZUlkID0gMDtcbmxldCBwZW5kaW5nTWVzc2FnZXMgPSBuZXcgTWFwPG51bWJlciwgeyByZXNvbHZlOiBGdW5jdGlvbjsgcmVqZWN0OiBGdW5jdGlvbiB9PigpO1xubGV0IGlzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gc2VuZE1lc3NhZ2UodHlwZTogc3RyaW5nLCBhcmdzPzogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBpZiAoIXdvcmtlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdXb3JrZXIgbm90IGluaXRpYWxpemVkJykpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gbWVzc2FnZUlkKys7XG4gICAgICAgIHBlbmRpbmdNZXNzYWdlcy5zZXQoaWQsIHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuXG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFdvcmtlck1lc3NhZ2UgPSB7IGlkLCB0eXBlLCBhcmdzIH07XG4gICAgICAgIHdvcmtlciEucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplKCk6IFByb21pc2U8SW5pdGlhbGl6ZVJlc3VsdD4ge1xuICAgIGlmIChpc0luaXRpYWxpemVkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogJ0FscmVhZHkgaW5pdGlhbGl6ZWQnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdPUEZTIEluaXRpYWxpemVyJywgJ0NyZWF0aW5nIHdvcmtlci4uLicpO1xuXG4gICAgICAgIC8vIENyZWF0ZSB3b3JrZXIgZnJvbSBidW5kbGVkIHdvcmtlciBmaWxlXG4gICAgICAgIHdvcmtlciA9IG5ldyBXb3JrZXIoXG4gICAgICAgICAgICAnL19jb250ZW50L1NRTGl0ZU5FVC5PcGZzL29wZnMtd29ya2VyLmpzJyxcbiAgICAgICAgICAgIHsgdHlwZTogJ21vZHVsZScgfVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIFNldCB1cCBtZXNzYWdlIGhhbmRsZXJcbiAgICAgICAgd29ya2VyLm9ubWVzc2FnZSA9IChldmVudDogTWVzc2FnZUV2ZW50PFdvcmtlclJlc3BvbnNlPikgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpZCwgc3VjY2VzcywgcmVzdWx0LCBlcnJvciB9ID0gZXZlbnQuZGF0YTtcblxuICAgICAgICAgICAgY29uc3QgcGVuZGluZyA9IHBlbmRpbmdNZXNzYWdlcy5nZXQoaWQpO1xuICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICBwZW5kaW5nTWVzc2FnZXMuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nLnJlamVjdChuZXcgRXJyb3IoZXJyb3IgfHwgJ1Vua25vd24gZXJyb3InKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIENsZWFuIHVwIGhhbmRsZXMgYmVmb3JlIHBhZ2UgdW5sb2FkXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAod29ya2VyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCBzeW5jaHJvbm91cyBjbGVhbnVwIG1lc3NhZ2UgKGJlc3QgZWZmb3J0KVxuICAgICAgICAgICAgICAgICAgICB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZDogLTEsIHR5cGU6ICdjbGVhbnVwJyB9KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdPUEZTIEluaXRpYWxpemVyJywgJ0NvdWxkIG5vdCBzZW5kIGNsZWFudXAgbWVzc2FnZTonLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFdhaXQgZm9yIHdvcmtlciByZWFkeSBzaWduYWxcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignV29ya2VyIGluaXRpYWxpemF0aW9uIHRpbWVvdXQnKSksIDEwMDAwKTtcblxuICAgICAgICAgICAgd29ya2VyIS5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gb25SZWFkeShldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09ICdyZWFkeScpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB3b3JrZXIhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvblJlYWR5KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGF0YS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgd29ya2VyIS5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgb25SZWFkeSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoZXZlbnQuZGF0YS5lcnJvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBsb2dnZXIuZGVidWcoJ09QRlMgSW5pdGlhbGl6ZXInLCAnV29ya2VyIHJlYWR5LCBnZXR0aW5nIGNhcGFjaXR5Li4uJyk7XG5cbiAgICAgICAgLy8gR2V0IGluaXRpYWwgY2FwYWNpdHkgYW5kIGZpbGUgY291bnRcbiAgICAgICAgY29uc3QgY2FwYWNpdHlSZXN1bHQgPSBhd2FpdCBzZW5kTWVzc2FnZSgnZ2V0Q2FwYWNpdHknKTtcbiAgICAgICAgY29uc3QgZmlsZUxpc3RSZXN1bHQgPSBhd2FpdCBzZW5kTWVzc2FnZSgnZ2V0RmlsZUxpc3QnKTtcblxuICAgICAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICBsb2dnZXIuZGVidWcoJ09QRlMgSW5pdGlhbGl6ZXInLCAnSW5pdGlhbGl6YXRpb24gY29tcGxldGUnKTtcblxuICAgICAgICAvLyBFeHBvc2Ugc2VuZE1lc3NhZ2UgZ2xvYmFsbHkgZm9yIHVzZSBieSBvdGhlciBtb2R1bGVzIChvcGZzLWludGVyb3AudHMpXG4gICAgICAgIC8vIFRoaXMgZW5zdXJlcyB0aGV5IHVzZSB0aGUgc2FtZSB3b3JrZXIgaW5zdGFuY2VcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLl9fb3Bmc1NlbmRNZXNzYWdlID0gc2VuZE1lc3NhZ2U7XG4gICAgICAgICh3aW5kb3cgYXMgYW55KS5fX29wZnNJc0luaXRpYWxpemVkID0gKCkgPT4gaXNJbml0aWFsaXplZDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdPUEZTIFdvcmtlciBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgY2FwYWNpdHk6IGNhcGFjaXR5UmVzdWx0LmNhcGFjaXR5LFxuICAgICAgICAgICAgZmlsZUNvdW50OiBmaWxlTGlzdFJlc3VsdC5maWxlcy5sZW5ndGhcbiAgICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoJ09QRlMgSW5pdGlhbGl6ZXInLCAnRmFpbGVkIHRvIGluaXRpYWxpemU6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhZHkoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGlzSW5pdGlhbGl6ZWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRGaWxlTGlzdCgpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZE1lc3NhZ2UoJ2dldEZpbGVMaXN0Jyk7XG4gICAgcmV0dXJuIHJlc3VsdC5maWxlcyB8fCBbXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4cG9ydERhdGFiYXNlKGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcltdPiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZE1lc3NhZ2UoJ3JlYWRGaWxlJywgeyBmaWxlbmFtZSB9KTtcbiAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbXBvcnREYXRhYmFzZShmaWxlbmFtZTogc3RyaW5nLCBkYXRhQXJyYXk6IG51bWJlcltdKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kTWVzc2FnZSgnd3JpdGVGaWxlJywgeyBmaWxlbmFtZSwgZGF0YTogZGF0YUFycmF5IH0pO1xuICAgIHJldHVybiByZXN1bHQuYnl0ZXNXcml0dGVuO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlRGF0YWJhc2UoZmlsZW5hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRNZXNzYWdlKCdkZWxldGVGaWxlJywgeyBmaWxlbmFtZSB9KTtcbiAgICByZXR1cm4gcmVzdWx0LnN1Y2Nlc3M7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYXBhY2l0eSgpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmRNZXNzYWdlKCdnZXRDYXBhY2l0eScpO1xuICAgIHJldHVybiByZXN1bHQuY2FwYWNpdHk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRDYXBhY2l0eShjb3VudDogbnVtYmVyKTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kTWVzc2FnZSgnYWRkQ2FwYWNpdHknLCB7IGNvdW50IH0pO1xuICAgIHJldHVybiByZXN1bHQubmV3Q2FwYWNpdHk7XG59XG5cbi8qKlxuICogUGVyc2lzdCBhIGRhdGFiYXNlIGZpbGUgZnJvbSBFbXNjcmlwdGVuIE1FTUZTIHRvIE9QRlMuXG4gKiBSZWFkcyB0aGUgZmlsZSBmcm9tIG5hdGl2ZSBXQVNNIG1lbW9yeSBhbmQgc3RvcmVzIGl0IGluIE9QRlMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwZXJzaXN0KGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBsb2dnZXIuZGVidWcoJ09QRlMgUGVyc2lzdCcsICdTdGFydGluZyBwZXJzaXN0IGZvcjonLCBmaWxlbmFtZSk7XG5cbiAgICAvLyBDaGVjayBpZiBmaWxlIGV4aXN0cyBpbiBFbXNjcmlwdGVuIE1FTUZTXG4gICAgaWYgKCEod2luZG93IGFzIGFueSkuQmxhem9yPy5ydW50aW1lPy5Nb2R1bGU/LkZTKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW1zY3JpcHRlbiBGUyBub3QgYXZhaWxhYmxlLiBFbnN1cmUgV2FzbUJ1aWxkTmF0aXZlPXRydWUgaXMgZW5hYmxlZC4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBmcyA9ICh3aW5kb3cgYXMgYW55KS5CbGF6b3IucnVudGltZS5Nb2R1bGUuRlM7XG4gICAgY29uc3QgZmlsZVBhdGggPSBgLyR7ZmlsZW5hbWV9YDtcblxuICAgIGNvbnN0IHBhdGhJbmZvID0gZnMuYW5hbHl6ZVBhdGgoZmlsZVBhdGgpO1xuICAgIGxvZ2dlci5kZWJ1ZygnT1BGUyBQZXJzaXN0JywgJ0ZpbGUgZXhpc3RzIGluIE1FTUZTOicsIHBhdGhJbmZvLmV4aXN0cyk7XG5cbiAgICBpZiAoIXBhdGhJbmZvLmV4aXN0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERhdGFiYXNlIGZpbGUgJHtmaWxlbmFtZX0gbm90IGZvdW5kIGluIE1FTUZTYCk7XG4gICAgfVxuXG4gICAgLy8gUmVhZCBmcm9tIE1FTUZTXG4gICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlKGZpbGVQYXRoKTtcbiAgICBsb2dnZXIuZGVidWcoJ09QRlMgUGVyc2lzdCcsICdSZWFkIGZyb20gTUVNRlM6JywgZGF0YS5sZW5ndGgsICdieXRlcycpO1xuXG4gICAgLy8gV3JpdGUgdG8gT1BGUyB2aWEgd29ya2VyXG4gICAgYXdhaXQgc2VuZE1lc3NhZ2UoJ3dyaXRlRmlsZScsIHtcbiAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgIGRhdGE6IEFycmF5LmZyb20oZGF0YSlcbiAgICB9KTtcblxuICAgIGxvZ2dlci5pbmZvKCdPUEZTIFBlcnNpc3QnLCAnV3JpdHRlbiB0byBPUEZTOicsIGZpbGVuYW1lKTtcbn1cblxuLyoqXG4gKiBQZXJzaXN0IG9ubHkgZGlydHkgcGFnZXMgZnJvbSBNRU1GUyB0byBPUEZTIChpbmNyZW1lbnRhbCBzeW5jKS5cbiAqIFVzZWQgYnkgVkZTIHRyYWNraW5nIGZvciBlZmZpY2llbnQgcGFydGlhbCB1cGRhdGVzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGVyc2lzdERpcnR5UGFnZXMoZmlsZW5hbWU6IHN0cmluZywgcGFnZXM6IGFueVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgbG9nZ2VyLmRlYnVnKCdPUEZTIFBlcnNpc3QgRGlydHknLCAnU3RhcnRpbmcgaW5jcmVtZW50YWwgcGVyc2lzdCBmb3I6JywgZmlsZW5hbWUsICctJywgcGFnZXMubGVuZ3RoLCAncGFnZXMnKTtcblxuICAgIC8vIFNlbmQgZGlydHkgcGFnZXMgdG8gd29ya2VyIGZvciBwYXJ0aWFsIHdyaXRlXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZE1lc3NhZ2UoJ3BlcnNpc3REaXJ0eVBhZ2VzJywge1xuICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgcGFnZXNcbiAgICB9KTtcblxuICAgIGxvZ2dlci5pbmZvKCdPUEZTIFBlcnNpc3QgRGlydHknLCAnV3JpdHRlbicsIHJlc3VsdC5wYWdlc1dyaXR0ZW4sICdwYWdlcyAoJywgcmVzdWx0LmJ5dGVzV3JpdHRlbiwgJ2J5dGVzKScpO1xufVxuXG4vKipcbiAqIExvYWQgYSBkYXRhYmFzZSBmaWxlIGZyb20gT1BGUyB0byBFbXNjcmlwdGVuIE1FTUZTLlxuICogUmVhZHMgdGhlIGZpbGUgZnJvbSBPUEZTIGFuZCB3cml0ZXMgaXQgdG8gbmF0aXZlIFdBU00gbWVtb3J5LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9hZChmaWxlbmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgbG9nZ2VyLmRlYnVnKCdPUEZTIExvYWQnLCAnU3RhcnRpbmcgbG9hZCBmb3I6JywgZmlsZW5hbWUpO1xuXG4gICAgaWYgKCEod2luZG93IGFzIGFueSkuQmxhem9yPy5ydW50aW1lPy5Nb2R1bGU/LkZTKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW1zY3JpcHRlbiBGUyBub3QgYXZhaWxhYmxlLiBFbnN1cmUgV2FzbUJ1aWxkTmF0aXZlPXRydWUgaXMgZW5hYmxlZC4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBmcyA9ICh3aW5kb3cgYXMgYW55KS5CbGF6b3IucnVudGltZS5Nb2R1bGUuRlM7XG4gICAgY29uc3QgZmlsZVBhdGggPSBgLyR7ZmlsZW5hbWV9YDtcblxuICAgIHRyeSB7XG4gICAgICAgIC8vIFJlYWQgZnJvbSBPUEZTIHZpYSB3b3JrZXJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZE1lc3NhZ2UoJ3JlYWRGaWxlJywgeyBmaWxlbmFtZSB9KTtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKCdPUEZTIExvYWQnLCAnUmVhZCBmcm9tIE9QRlM6JywgcmVzdWx0LmRhdGE/Lmxlbmd0aCB8fCAwLCAnYnl0ZXMnKTtcblxuICAgICAgICBpZiAocmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gV3JpdGUgdG8gTUVNRlNcbiAgICAgICAgICAgIGZzLndyaXRlRmlsZShmaWxlUGF0aCwgbmV3IFVpbnQ4QXJyYXkocmVzdWx0LmRhdGEpKTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdPUEZTIExvYWQnLCAnV3JpdHRlbiB0byBNRU1GUzonLCBmaWxlbmFtZSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBEYXRhYmFzZSBkb2Vzbid0IGV4aXN0IGluIE9QRlMgeWV0IC0gdGhpcyBpcyBva2F5ICh3aWxsIGJlIGNyZWF0ZWQpXG4gICAgICAgIGxvZ2dlci5pbmZvKCdPUEZTIExvYWQnLCBgRGF0YWJhc2UgJHtmaWxlbmFtZX0gbm90IGZvdW5kIGluIE9QRlMgKHdpbGwgYmUgY3JlYXRlZCBvbiBmaXJzdCB1c2UpYCk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYW51cCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAod29ya2VyKSB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZygnT1BGUyBJbml0aWFsaXplcicsICdSZXF1ZXN0aW5nIGNsZWFudXAuLi4nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHNlbmRNZXNzYWdlKCdjbGVhbnVwJyk7XG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnT1BGUyBJbml0aWFsaXplcicsICdDbGVhbnVwIGNvbXBsZXRlJyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdPUEZTIEluaXRpYWxpemVyJywgJ0NsZWFudXAgZmFpbGVkOicsIGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBPUEZTIHdvcmtlci5cbiAqIEV4cG9ydGVkIGZvciB1c2UgYnkgb3Bmcy1pbnRlcm9wLnRzIChKU0ltcG9ydCBvcHRpbWl6YXRpb25zKS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRNZXNzYWdlVG9Xb3JrZXIodHlwZTogc3RyaW5nLCBhcmdzPzogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICAvLyBFbnN1cmUgd29ya2VyIGlzIGluaXRpYWxpemVkXG4gICAgaWYgKCFpc0luaXRpYWxpemVkKSB7XG4gICAgICAgIGF3YWl0IGluaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VuZE1lc3NhZ2UodHlwZSwgYXJncyk7XG59XG5cbmxvZ2dlci5kZWJ1ZygnT1BGUyBJbml0aWFsaXplcicsICdNb2R1bGUgbG9hZGVkJyk7XG4iXSwKICAibWFwcGluZ3MiOiAiO0FBWUEsSUFBTSxhQUFOLE1BQWlCO0FBQUEsRUFBakI7QUFDSSxTQUFRLFdBQXlCO0FBQUE7QUFBQSxFQUVqQyxZQUFZLE9BQTJCO0FBQ25DLFNBQUssV0FBVztBQUFBLEVBQ3BCO0FBQUEsRUFFQSxNQUFNLFdBQW1CLE1BQW1CO0FBQ3hDLFFBQUksS0FBSyxZQUFZLGVB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
